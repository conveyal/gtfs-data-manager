<p>
  {{#if showNewFeedButton}}
    <button type="button" class="btn btn-success newfeedsource">
      <span class="glyphicon glyphicon-plus"></span> {{ t "app.add_feed_source" }}
    </button>
    <button type="button" class="btn btn-primary fetch-all-feeds">
      <span class="glyphicon glyphicon-cloud-download"></span> {{ t "app.fetch_all_feeds.button" }}
    </button>
  {{/if}}

  {{#if showDeployPublicButton}}
    <button type="button" class="btn btn-primary deploy-public">
      <span class="glyphicon glyphicon-upload"></span> <span class="button-label">{{ t "app.deploy-public" }}</span>
    </button>
  {{/if}}

  {{#showDeploymentButton}}
  <a href="#deployments/{{ feedCollectionId }}" class="btn btn-primary">
    <span class="glyphicon glyphicon-globe"></span> {{ t "app.deployment.manage_deployments" }}
  </a>
  <a href="#osmconfig/{{ feedCollectionId }}" class="btn btn-primary">
    <span class="glyphicon glyphicon-scissors"></span> {{ t "app.osm_config.configure" }}
  </a>
  <a href="#otpconfig/{{ feedCollectionId }}" class="btn btn-primary">
    <span class="glyphicon glyphicon-picture"></span> {{ t "app.otp_config.title" }}
  </a>
  {{/showDeploymentButton}}

  {{#showDownloadButton}}
  <a href="/api/feedcollections/{{ feedCollectionId }}/download" class="btn btn-primary">
    <span class="glyphicon glyphicon-download"></span> {{ t "app.feed_collection.download_gtfs" }}
  </a>
  {{/showDownloadButton}}

  <!--<a href="api/feedcollections/{{ feedCollectionId }}.csv" class="btn btn-primary">
    <span class="glyphicon glyphicon-download"></span>&nbsp;{{ t "app.download-as-csv" }}
  </a>-->
</p>

<div class="table-responsive table-fixed-header-wrapper">
  <table id="feedsources" class="table table-striped table-hover table-condensed table-fixed-header">
    <thead>
      <th><a href="#" class="sort-by" data-attr="name">{{ t 'app.feed_source.name' }}</a></th>
      <th><a href="#" class="sort-by" data-attr="isPublic">{{ t 'app.feed_source.public' }}</a></th>
      <th><a href="#" class="sort-by" data-attr="deployable">{{ t 'app.feed_source.deployable' }}</a></th>
      <th><a href="#" class="sort-by" data-attr="retrievalMethod">{{ t 'app.feed_source.retrieval_method' }}</a></th>
      <!-- can't sort by URL because this column actually contains both URLs and GTFS Editor agencies, so sorting does not make sense -->
      <th>{{ t 'app.feed_source.url' }}</th>
      <th><a href="#" class="sort-by" data-attr="lastUpdated">{{ t 'app.feed_source.last_updated' }}</a></th>
      <th><a href="#" class="sort-by" data-attr="latestValidation.loadStatus">{{ t 'app.feed_version.loaded_successfully' }}</a></th>
      <th><a href="#" class="sort-by" data-attr="latestValidation.errorCount">{{ t 'app.feed_version.error_count' }}</a></th>
      <th><a href="#" class="sort-by" data-attr="latestValidation.routeCount">{{ t 'app.feed_version.route_count' }}</a></th>
      <th><a href="#" class="sort-by" data-attr="latestValidation.tripCount">{{ t 'app.feed_version.trip_count' }}</a></th>
      <th><a href="#" class="sort-by" data-attr="latestValidation.stopTimesCount">{{ t 'app.feed_version.stop_times_count' }}</a></th>
      <th><a href="#" class="sort-by" data-attr="latestValidation.startDate">{{ t 'app.feed_version.start_date' }}</a></th>
      <th><a href="#" class="sort-by" data-attr="latestValidation.endDate">{{ t 'app.feed_version.end_date' }}</a></th>
      <th>{{!-- delete control --}}</th>
    </thead>
    <tbody></tbody>
  </table>
</div>
